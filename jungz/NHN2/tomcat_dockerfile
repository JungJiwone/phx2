FROM tomcat:9.0.45-jdk8-openjdk-slim

ENV TZ=Asia/Seoul

RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone

RUN mkdir /home/dev

COPY build.tar.gz /home/dev/build.tar.gz

WORKDIR /home/dev

RUN tar -zxvf build.tar.gz

RUN cd /home/dev/build && bash ./back_build.sh
RUN cd /home/dev/build && bash ./front_build.sh

CMD catalina.sh run
